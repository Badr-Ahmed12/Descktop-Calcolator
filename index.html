<!DOCTYPE html>
<html lang="ar" dir="rtl" class="[&.dark]:dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MarkFlow - محرر ماركداون ذكي</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body class="dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300">
    <!-- شريط القائمة العلوي -->
    <nav class="bg-gray-800 text-white p-4 flex justify-between items-center shadow-lg">
        <div class="flex gap-4">
            <button onclick="newFile()" class="hover:bg-gray-700 px-3 py-1 rounded">
                <i class="fas fa-file mr-2"></i>جديد
            </button>
            <input type="file" id="fileInput" class="hidden" accept=".md">
            <button onclick="openFile()" class="hover:bg-gray-700 px-3 py-1 rounded">
                <i class="fas fa-folder-open mr-2"></i>فتح
            </button>
            <button onclick="saveFile()" class="hover:bg-gray-700 px-3 py-1 rounded">
                <i class="fas fa-save mr-2"></i>حفظ
            </button>
        </div>
        <div class="flex gap-4 items-center">
            <button onclick="toggleDarkMode()" class="hover:bg-gray-700 p-2 rounded-full">
                <i class="fas fa-moon"></i>
            </button>
            <button onclick="toggleLanguage()" class="hover:bg-gray-700 p-2 rounded-full">
                <span class="text-sm">EN/AR</span>
            </button>
        </div>
    </nav>

    <!-- الواجهة الرئيسية -->
    <div class="flex h-[calc(100vh-4rem)]">
        <!-- محرر النص -->
        <div class="flex-1 p-4 border-r dark:border-gray-700">
            <textarea 
                id="editor"
                class="w-full h-full bg-transparent resize-none outline-none font-mono text-lg"
                placeholder="ابدأ الكتابة هنا..."
                spellcheck="false"
            ></textarea>
        </div>

        <!-- معاينة النص -->
        <div 
            id="preview"
            class="flex-1 p-4 overflow-y-auto prose dark:prose-invert max-w-none"
            style="height: calc(100vh - 4rem)"
        ></div>
    </div>

    <!-- نافذة التحميل -->
    <div id="loading" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg flex items-center gap-4">
            <div class="animate-spin text-2xl">
                <i class="fas fa-spinner"></i>
            </div>
            <span class="dark:text-white">جاري المعالجة...</span>
        </div>
    </div>

    <script src="renderer.js"></script>
    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js"></script>
</body>
</html>